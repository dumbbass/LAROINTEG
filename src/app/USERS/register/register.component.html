<header class="header">
    <div class="logo-container">
        <img src="assets/Logo.png" alt="Carexus Logo">
        <h1>Carexus</h1>
    </div>
    <button class="login-button" routerLink="/login">Login</button>
</header>

<div class="form-container">
    <h2 class="signup-text">Sign Up</h2>
    <form (ngSubmit)="onSubmit()">
        <!-- Display submit error if any -->
        <div *ngIf="submitError" class="error-message submit-error">
            {{ submitError }}
        </div>

        <div class="form-group">
            <label for="first-name" class="form-label">First Name</label>
            <input type="text" id="first-name" class="form-input" [ngClass]="{'error-input': errors['firstName']}"
                placeholder="Enter your First Name" [(ngModel)]="firstName" name="firstName" required>
            <div *ngIf="errors['firstName']" class="error-message">{{ errors['firstName'] }}</div>
        </div>

        <div class="form-group">
            <label for="last-name" class="form-label">Last Name</label>
            <input type="text" id="last-name" class="form-input" [ngClass]="{'error-input': errors['lastName']}"
                placeholder="Enter your Last Name" [(ngModel)]="lastName" name="lastName" required>
            <div *ngIf="errors['lastName']" class="error-message">{{ errors['lastName'] }}</div>
        </div>

        <div class="form-group">
            <label for="birthplace" class="form-label">Birthplace</label>
            <input type="text" id="birthplace" class="form-input" [ngClass]="{'error-input': errors['birthplace']}"
                placeholder="Enter your Birthplace" [(ngModel)]="birthplace" name="birthplace">
            <div *ngIf="errors['birthplace']" class="error-message">{{ errors['birthplace'] }}</div>
        </div>

        <div class="form-group">
            <label for="date_of_birth" class="form-label">Date of Birth</label>
            <input type="date" id="date_of_birth" class="form-input" [ngClass]="{'error-input': errors['date_of_birth']}"
                [(ngModel)]="date_of_birth" name="date_of_birth" required>
            <div *ngIf="errors['date_of_birth']" class="error-message">{{ errors['date_of_birth'] }}</div>
        </div>

        <div class="form-group">
            <label for="age" class="form-label">Age</label>
            <input type="number" id="age" class="form-input" [ngClass]="{'error-input': errors['age']}"
                placeholder="Enter your Age" [(ngModel)]="age" name="age">
            <div *ngIf="errors['age']" class="error-message">{{ errors['age'] }}</div>
        </div>

        <div class="form-group">
            <label for="gender" class="form-label">Gender</label>
            <select id="gender" class="form-input" [ngClass]="{'error-input': errors['gender']}"
                [(ngModel)]="gender" name="gender" required>
                <option value="" disabled selected>Select your Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
            </select>
            <div *ngIf="errors['gender']" class="error-message">{{ errors['gender'] }}</div>
        </div>

        <div class="form-group">
            <label for="nationality" class="form-label">Nationality</label>
            <input type="text" id="nationality" class="form-input" [ngClass]="{'error-input': errors['nationality']}"
                placeholder="Enter your Nationality" [(ngModel)]="nationality" name="nationality">
            <div *ngIf="errors['nationality']" class="error-message">{{ errors['nationality'] }}</div>
        </div>

        <div class="form-group">
            <label for="religion" class="form-label">Religion</label>
            <input type="text" id="religion" class="form-input" [ngClass]="{'error-input': errors['religion']}"
                placeholder="Enter your Religion" [(ngModel)]="religion" name="religion">
            <div *ngIf="errors['religion']" class="error-message">{{ errors['religion'] }}</div>
        </div>

        <div class="form-group">
            <label for="civil-status" class="form-label">Civil Status</label>
            <input type="text" id="civil-status" class="form-input" [ngClass]="{'error-input': errors['civilStatus']}"
                placeholder="Enter your Civil Status" [(ngModel)]="civilStatus" name="civilStatus">
            <div *ngIf="errors['civilStatus']" class="error-message">{{ errors['civilStatus'] }}</div>
        </div>

        <div class="form-group">
          <label for="height" class="form-label">Height (cm)</label>
          <input type="number" id="height" class="form-input"
                 [ngClass]="{'error-input': errors['height']}"
                 placeholder="Enter your height in cm (optional)"
                 [(ngModel)]="height" name="height">
          <div *ngIf="errors['height']" class="error-message">{{ errors['height'] }}</div>
      </div>

      <div class="form-group">
          <label for="weight" class="form-label">Weight (kg)</label>
          <input type="number" id="weight" class="form-input"
                 [ngClass]="{'error-input': errors['weight']}"
                 placeholder="Enter your weight in kg (optional)"
                 [(ngModel)]="weight" name="weight">
          <div *ngIf="errors['weight']" class="error-message">{{ errors['weight'] }}</div>
      </div>

      <div class="form-group">
          <label for="medications" class="form-label">Taking any medications, currently?</label>
          <select id="medications" class="form-input"
                  [ngClass]="{'error-input': errors['medications']}"
                  [(ngModel)]="medications" name="medications" required>
              <option value="" disabled selected>Select an option</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
          </select>
          <div *ngIf="errors['medications']" class="error-message">{{ errors['medications'] }}</div>
      </div>

        <div class="form-group">
            <label for="home-address" class="form-label">Home Address</label>
            <input type="text" id="home-address" class="form-input" [ngClass]="{'error-input': errors['home_address']}"
                placeholder="Enter your Home Address" [(ngModel)]="home_address" name="home_address" required>
            <div *ngIf="errors['home_address']" class="error-message">{{ errors['home_address'] }}</div>
        </div>

        <div class="form-group">
            <label for="contact-number" class="form-label">Contact Number</label>
            <input type="tel" id="contact-number" class="form-input" [ngClass]="{'error-input': errors['contact_number']}"
                placeholder="Enter your Contact Number" [(ngModel)]="contact_number" name="contact_number" required>
            <div *ngIf="errors['contact_number']" class="error-message">{{ errors['contact_number'] }}</div>
        </div>

        <div class="form-group">
            <label for="email" class="form-label">Email</label>
            <input type="email" id="email" class="form-input" [ngClass]="{'error-input': errors['email']}"
                placeholder="Enter your Email" [(ngModel)]="email" name="email" required>
            <div *ngIf="errors['email']" class="error-message">{{ errors['email'] }}</div>
        </div>

        <div class="form-group">
            <label for="password" class="form-label">Password</label>
            <div class="password-input-container">
                <input [type]="showPassword ? 'text' : 'password'"
                       id="password"
                       class="form-input"
                       [ngClass]="{'error-input': errors['password']}"
                       placeholder="Enter your Password"
                       [(ngModel)]="password"
                       name="password"
                       required>
                <button type="button"
                        class="toggle-password"
                        (click)="togglePasswordVisibility('password')">
                    {{ showPassword ? 'üîí' : 'üëÅÔ∏è' }}
                </button>
            </div>
            <div *ngIf="password" class="password-strength">
                Password Strength: {{ checkPasswordStrength(password).feedback }}
            </div>
            <div *ngIf="errors['password']" class="error-message">{{ errors['password'] }}</div>
        </div>

        <div class="form-group">
            <label for="confirm-password" class="form-label">Confirm Password</label>
            <div class="password-input-container">
                <input [type]="showConfirmPassword ? 'text' : 'password'"
                       id="confirm-password"
                       class="form-input"
                       [ngClass]="{'error-input': errors['confirmPassword']}"
                       placeholder="Confirm your Password"
                       [(ngModel)]="confirmPassword"
                       name="confirmPassword"
                       required>
                <button type="button"
                        class="toggle-password"
                        (click)="togglePasswordVisibility('confirmPassword')">
                    {{ showConfirmPassword ? 'üîí' : 'üëÅÔ∏è' }}
                </button>
            </div>
            <div *ngIf="errors['confirmPassword']" class="error-message">{{ errors['confirmPassword'] }}</div>
        </div>

        <div class="form-group terms-container">
            <label class="terms-label">
                <input type="checkbox"
                       [(ngModel)]="termsAccepted"
                       name="terms"
                       required>
                I accept the <a href="/terms" target="_blank">Terms and Conditions</a>
            </label>
            <div *ngIf="errors['terms']" class="error-message">{{ errors['terms'] }}</div>
        </div>

        <button type="submit" class="form-register">Register</button>
    </form>
</div>

